!function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}([function(t,e,n){"use strict";function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}n.r(e);var i=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,i;return e=t,i=[{key:"norm",value:function(t,e,n){return(t-e)/(n-e)}},{key:"lerp",value:function(t,e,n){return(n-e)*t+e}},{key:"map",value:function(e,n,r,i,a){return t.lerp(t.norm(e,n,r),i,a)}},{key:"clamp",value:function(t,e,n){return Math.min(Math.max(t,Math.min(e,n)),Math.max(e,n))}},{key:"distance",value:function(t,e){var n=e.x-t.x,r=e.y-t.y;return Math.sqrt(n*n+r*r)}},{key:"distanceXY",value:function(t,e,n,r){var i=n-t,a=r-e;return Math.sqrt(i*i+a*a)}},{key:"circleCollision",value:function(e,n){return t.distance(e,n)<=e.radius+n.radius}},{key:"circlePointCollision",value:function(e,n,r){return t.distanceXY(e,n,r.x,r.y)<r.radius}},{key:"pointInRect",value:function(e,n,r){return t.inRange(e,r.x,r.x+r.width)&&t.inRange(n,r.y,r.y+r.height)}},{key:"inRange",value:function(t,e,n){return t>=Math.min(e,n)&&t<=Math.max(e,n)}},{key:"rangeIntersect",value:function(t,e,n,r){return Math.max(t,e)>=Math.min(n,r)&&Math.min(t,e)<=Math.max(n,r)}},{key:"rectIntersect",value:function(e,n){return t.rangeIntersect(e.x,e.x+e.width,n.x,n.x+n.width)&&t.rangeIntersect(e.y,e.y+e.height,n.y,n.y+n.height)}},{key:"degreesToRads",value:function(t){return t/180*Math.PI}},{key:"radsToDegrees",value:function(t){return 180*t/Math.PI}},{key:"randomRange",value:function(t,e){return t+Math.random()*(e-t)}},{key:"randomInt",value:function(t,e){return Math.floor(t+Math.random()*(e-t+1))}},{key:"randomDist",value:function(e,n,r){for(var i=0,a=0;a<r;a+=1)i+=t.randomRange(e,n);return i/r}},{key:"randomColor",value:function(t){return t[Math.floor(Math.random()*t.length)]}}],(n=null)&&r(e.prototype,n),i&&r(e,i),t}();function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var o={},u=["#645f5a"];window.addEventListener("mousemove",(function(t){o.x=t.clientX,o.y=t.clientY}));var c=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.canvas=document.querySelector("#canvas"),this.ctx=canvas.getContext("2d"),this.color=i.randomColor(u),this.x=Math.random()*this.canvas.width,this.y=Math.random()*this.canvas.height,this.x2=e,this.y2=n,this.vx=0,this.vy=0,this.radius=2.5*Math.random()+1,this.friction=.05*Math.random()+.94,this.speed=20}var e,n,r;return e=t,(n=[{key:"update",value:function(){this.vx=(this.x2-this.x)/this.speed,this.vy=(this.y2-this.y)/this.speed,this.x+=this.vx,this.y+=this.vy}},{key:"draw",value:function(){this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(this.x,this.y,this.radius,0,2*Math.PI,!1),this.ctx.fillStyle=this.color,this.ctx.fill(),this.ctx.restore()}}])&&a(e.prototype,n),r&&a(e,r),t}();!function(){window.addEventListener("load",(function(){o(),u()})),window.onresize=function(){n.width=window.innerWidth,n.height=window.innerHeight,a=[],o()};var t=document.createElement("canvas"),e=t.getContext("2d"),n=document.querySelector("#canvas"),r=n.getContext("2d"),i=0,a=[];function o(){!function(){var t=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame;window.requestAnimationFrame=t}();var r=window.innerWidth,o=window.innerHeight;t.width=r,t.height=o,e.drawImage("../dist/images/img.png",r/2,o/2);var u=e.getImageData(0,0,r,o).data;n.width=r,n.height=o;for(var s=0;s<r;s+=Math.round(r/150))for(var h=0;h<o;h+=Math.round(r/150))u[4*(s+h*r)+3]>150&&a.push(new c(s,h));i=a.length}function u(){r.clearRect(0,0,n.width,n.height);for(var t=0;t<i;t++){var e=a[t];e.update(),e.draw()}requestAnimationFrame(u)}}()}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL3V0aWwuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3BhcnRpY2xlLmpzIiwid2VicGFjazovLy8uL3NyYy9tYWluLmpzIl0sIm5hbWVzIjpbImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJleHBvcnRzIiwibW9kdWxlIiwiaSIsImwiLCJtb2R1bGVzIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJ0IiwibW9kZSIsIl9fZXNNb2R1bGUiLCJucyIsImNyZWF0ZSIsImtleSIsImJpbmQiLCJuIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwiVXRpbHMiLCJtaW4iLCJtYXgiLCJub3JtIiwic291cmNlTWluIiwic291cmNlTWF4IiwiZGVzdE1pbiIsImRlc3RNYXgiLCJsZXJwIiwiTWF0aCIsInAwIiwicDEiLCJkeCIsIngiLCJkeSIsInkiLCJzcXJ0IiwieDAiLCJ5MCIsIngxIiwieTEiLCJjMCIsImMxIiwiZGlzdGFuY2UiLCJyYWRpdXMiLCJjaXJjbGUiLCJkaXN0YW5jZVhZIiwicmVjdCIsImluUmFuZ2UiLCJ3aWR0aCIsImhlaWdodCIsIm1pbjAiLCJtYXgwIiwibWluMSIsIm1heDEiLCJyMCIsInIxIiwicmFuZ2VJbnRlcnNlY3QiLCJkZWdyZWVzIiwiUEkiLCJyYWRpYW5zIiwicmFuZG9tIiwiZmxvb3IiLCJpdGVyYXRpb25zIiwidG90YWwiLCJyYW5kb21SYW5nZSIsImNvbG9ycyIsImxlbmd0aCIsIm1vdXNlIiwid2luZG93IiwiYWRkRXZlbnRMaXN0ZW5lciIsImV2ZW50IiwiY2xpZW50WCIsImNsaWVudFkiLCJQYXJ0aWNsZSIsInRoaXMiLCJjYW52YXMiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJjdHgiLCJnZXRDb250ZXh0IiwiY29sb3IiLCJyYW5kb21Db2xvciIsIngyIiwieTIiLCJ2eCIsInZ5IiwiZnJpY3Rpb24iLCJzcGVlZCIsInNhdmUiLCJiZWdpblBhdGgiLCJhcmMiLCJmaWxsU3R5bGUiLCJmaWxsIiwicmVzdG9yZSIsImluaXQiLCJyZW5kZXIiLCJvbnJlc2l6ZSIsImlubmVyV2lkdGgiLCJpbm5lckhlaWdodCIsInBhcnRpY2xlcyIsIm9mZnNjcmVlbmNhbnZhcyIsImNyZWF0ZUVsZW1lbnQiLCJvZmZzY3JlZW5jdHgiLCJhbW91bnQiLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJtb3pSZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJ3ZWJraXRSZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJtc1JlcXVlc3RBbmltYXRpb25GcmFtZSIsIldJRFRIIiwiSEVJR0hUIiwiZHJhd0ltYWdlIiwiaW1nRGF0YSIsImdldEltYWdlRGF0YSIsImRhdGEiLCJyb3VuZCIsInB1c2giLCJjbGVhclJlY3QiLCJ1cGRhdGUiLCJkcmF3Il0sIm1hcHBpbmdzIjoiYUFDRSxJQUFJQSxFQUFtQixHQUd2QixTQUFTQyxFQUFvQkMsR0FHNUIsR0FBR0YsRUFBaUJFLEdBQ25CLE9BQU9GLEVBQWlCRSxHQUFVQyxRQUduQyxJQUFJQyxFQUFTSixFQUFpQkUsR0FBWSxDQUN6Q0csRUFBR0gsRUFDSEksR0FBRyxFQUNISCxRQUFTLElBVVYsT0FOQUksRUFBUUwsR0FBVU0sS0FBS0osRUFBT0QsUUFBU0MsRUFBUUEsRUFBT0QsUUFBU0YsR0FHL0RHLEVBQU9FLEdBQUksRUFHSkYsRUFBT0QsUUFLZkYsRUFBb0JRLEVBQUlGLEVBR3hCTixFQUFvQlMsRUFBSVYsRUFHeEJDLEVBQW9CVSxFQUFJLFNBQVNSLEVBQVNTLEVBQU1DLEdBQzNDWixFQUFvQmEsRUFBRVgsRUFBU1MsSUFDbENHLE9BQU9DLGVBQWViLEVBQVNTLEVBQU0sQ0FBRUssWUFBWSxFQUFNQyxJQUFLTCxLQUtoRVosRUFBb0JrQixFQUFJLFNBQVNoQixHQUNYLG9CQUFYaUIsUUFBMEJBLE9BQU9DLGFBQzFDTixPQUFPQyxlQUFlYixFQUFTaUIsT0FBT0MsWUFBYSxDQUFFQyxNQUFPLFdBRTdEUCxPQUFPQyxlQUFlYixFQUFTLGFBQWMsQ0FBRW1CLE9BQU8sS0FRdkRyQixFQUFvQnNCLEVBQUksU0FBU0QsRUFBT0UsR0FFdkMsR0FEVSxFQUFQQSxJQUFVRixFQUFRckIsRUFBb0JxQixJQUMvQixFQUFQRSxFQUFVLE9BQU9GLEVBQ3BCLEdBQVcsRUFBUEUsR0FBOEIsaUJBQVZGLEdBQXNCQSxHQUFTQSxFQUFNRyxXQUFZLE9BQU9ILEVBQ2hGLElBQUlJLEVBQUtYLE9BQU9ZLE9BQU8sTUFHdkIsR0FGQTFCLEVBQW9Ca0IsRUFBRU8sR0FDdEJYLE9BQU9DLGVBQWVVLEVBQUksVUFBVyxDQUFFVCxZQUFZLEVBQU1LLE1BQU9BLElBQ3RELEVBQVBFLEdBQTRCLGlCQUFURixFQUFtQixJQUFJLElBQUlNLEtBQU9OLEVBQU9yQixFQUFvQlUsRUFBRWUsRUFBSUUsRUFBSyxTQUFTQSxHQUFPLE9BQU9OLEVBQU1NLElBQVFDLEtBQUssS0FBTUQsSUFDOUksT0FBT0YsR0FJUnpCLEVBQW9CNkIsRUFBSSxTQUFTMUIsR0FDaEMsSUFBSVMsRUFBU1QsR0FBVUEsRUFBT3FCLFdBQzdCLFdBQXdCLE9BQU9yQixFQUFnQixTQUMvQyxXQUE4QixPQUFPQSxHQUV0QyxPQURBSCxFQUFvQlUsRUFBRUUsRUFBUSxJQUFLQSxHQUM1QkEsR0FJUlosRUFBb0JhLEVBQUksU0FBU2lCLEVBQVFDLEdBQVksT0FBT2pCLE9BQU9rQixVQUFVQyxlQUFlMUIsS0FBS3VCLEVBQVFDLElBR3pHL0IsRUFBb0JrQyxFQUFJLEdBSWpCbEMsRUFBb0JBLEVBQW9CbUMsRUFBSSxHLDRNQ2xGOUMsSUFBTUMsRUFBYix5Qiw0RkFBQSxTLFVBQUEsTyxFQUFBLEUsRUFBQSw0QkFDZ0JmLEVBQU9nQixFQUFLQyxHQUNwQixPQUFRakIsRUFBUWdCLElBQVFDLEVBQU1ELEtBRnRDLDJCQUlnQkUsRUFBTUYsRUFBS0MsR0FDbkIsT0FBUUEsRUFBTUQsR0FBT0UsRUFBT0YsSUFMcEMsMEJBT2VoQixFQUFPbUIsRUFBV0MsRUFBV0MsRUFBU0MsR0FDN0MsT0FBT1AsRUFBTVEsS0FBS1IsRUFBTUcsS0FBS2xCLEVBQU9tQixFQUFXQyxHQUFZQyxFQUFTQyxLQVI1RSw0QkFXaUJ0QixFQUFPZ0IsRUFBS0MsR0FDckIsT0FBT08sS0FBS1IsSUFBSVEsS0FBS1AsSUFBSWpCLEVBQU93QixLQUFLUixJQUFJQSxFQUFLQyxJQUFPTyxLQUFLUCxJQUFJRCxFQUFLQyxNQVozRSwrQkFlb0JRLEVBQUlDLEdBQ2hCLElBQUlDLEVBQUtELEVBQUdFLEVBQUlILEVBQUdHLEVBQ2ZDLEVBQUtILEVBQUdJLEVBQUlMLEVBQUdLLEVBQ25CLE9BQU9OLEtBQUtPLEtBQUtKLEVBQUtBLEVBQUtFLEVBQUtBLEtBbEJ4QyxpQ0FxQnNCRyxFQUFJQyxFQUFJQyxFQUFJQyxHQUMxQixJQUFJUixFQUFLTyxFQUFLRixFQUNWSCxFQUFLTSxFQUFLRixFQUNkLE9BQU9ULEtBQUtPLEtBQUtKLEVBQUtBLEVBQUtFLEVBQUtBLEtBeEJ4QyxzQ0EyQjJCTyxFQUFJQyxHQUN2QixPQUFPdEIsRUFBTXVCLFNBQVNGLEVBQUlDLElBQU9ELEVBQUdHLE9BQVNGLEVBQUdFLFNBNUJ4RCwyQ0ErQmdDWCxFQUFHRSxFQUFHVSxHQUM5QixPQUFPekIsRUFBTTBCLFdBQVdiLEVBQUdFLEVBQUdVLEVBQU9aLEVBQUdZLEVBQU9WLEdBQUtVLEVBQU9ELFNBaENuRSxrQ0FtQ3VCWCxFQUFHRSxFQUFHWSxHQUNyQixPQUFPM0IsRUFBTTRCLFFBQVFmLEVBQUdjLEVBQUtkLEVBQUdjLEVBQUtkLEVBQUljLEVBQUtFLFFBQzFDN0IsRUFBTTRCLFFBQVFiLEVBQUdZLEVBQUtaLEVBQUdZLEVBQUtaLEVBQUlZLEVBQUtHLFVBckNuRCw4QkF3Q21CN0MsRUFBT2dCLEVBQUtDLEdBQ3ZCLE9BQU9qQixHQUFTd0IsS0FBS1IsSUFBSUEsRUFBS0MsSUFBUWpCLEdBQVN3QixLQUFLUCxJQUFJRCxFQUFLQyxLQXpDckUscUNBNEMwQjZCLEVBQU1DLEVBQU1DLEVBQU1DLEdBQ3BDLE9BQU96QixLQUFLUCxJQUFJNkIsRUFBTUMsSUFBU3ZCLEtBQUtSLElBQUlnQyxFQUFNQyxJQUMxQ3pCLEtBQUtSLElBQUk4QixFQUFNQyxJQUFTdkIsS0FBS1AsSUFBSStCLEVBQU1DLEtBOUNuRCxvQ0FpRHlCQyxFQUFJQyxHQUNyQixPQUFPcEMsRUFBTXFDLGVBQWVGLEVBQUd0QixFQUFHc0IsRUFBR3RCLEVBQUlzQixFQUFHTixNQUFPTyxFQUFHdkIsRUFBR3VCLEVBQUd2QixFQUFJdUIsRUFBR1AsUUFDL0Q3QixFQUFNcUMsZUFBZUYsRUFBR3BCLEVBQUdvQixFQUFHcEIsRUFBSW9CLEVBQUdMLE9BQVFNLEVBQUdyQixFQUFHcUIsRUFBR3JCLEVBQUlxQixFQUFHTixVQW5EekUsb0NBc0R5QlEsR0FDakIsT0FBT0EsRUFBVSxJQUFNN0IsS0FBSzhCLEtBdkRwQyxvQ0EwRHlCQyxHQUNqQixPQUFpQixJQUFWQSxFQUFnQi9CLEtBQUs4QixLQTNEcEMsa0NBOER1QnRDLEVBQUtDLEdBQ3BCLE9BQU9ELEVBQU1RLEtBQUtnQyxVQUFZdkMsRUFBTUQsS0EvRDVDLGdDQWtFcUJBLEVBQUtDLEdBQ2xCLE9BQU9PLEtBQUtpQyxNQUFNekMsRUFBTVEsS0FBS2dDLFVBQVl2QyxFQUFNRCxFQUFNLE1BbkU3RCxpQ0FzRXNCQSxFQUFLQyxFQUFLeUMsR0FHeEIsSUFGQSxJQUFJQyxFQUFRLEVBRUg1RSxFQUFJLEVBQUdBLEVBQUkyRSxFQUFZM0UsR0FBSyxFQUNqQzRFLEdBQVM1QyxFQUFNNkMsWUFBWTVDLEVBQUtDLEdBRXBDLE9BQU8wQyxFQUFRRCxJQTVFdkIsa0NBK0V1QkcsR0FDZixPQUFPQSxFQUFPckMsS0FBS2lDLE1BQU1qQyxLQUFLZ0MsU0FBV0ssRUFBT0MsYSxFQWhGeEQsTywyQkFBQSxLLHNLQ0VBLElBQU1DLEVBQVEsR0FDUkYsRUFBUyxDQUFDLFdBRWhCRyxPQUFPQyxpQkFBaUIsYUFBYSxTQUFVQyxHQUM3Q0gsRUFBTW5DLEVBQUlzQyxFQUFNQyxRQUNoQkosRUFBTWpDLEVBQUlvQyxFQUFNRSxXQUdYLElBQU1DLEVBQWIsV0FDRSxXQUFZekMsRUFBR0UsSSw0RkFBRyxTQUNoQndDLEtBQUtDLE9BQVNDLFNBQVNDLGNBQWMsV0FDckNILEtBQUtJLElBQU1ILE9BQU9JLFdBQVcsTUFDN0JMLEtBQUtNLE1BQVE3RCxFQUFNOEQsWUFBWWhCLEdBQy9CUyxLQUFLMUMsRUFBSUosS0FBS2dDLFNBQVdjLEtBQUtDLE9BQU8zQixNQUNyQzBCLEtBQUt4QyxFQUFJTixLQUFLZ0MsU0FBV2MsS0FBS0MsT0FBTzFCLE9BQ3JDeUIsS0FBS1EsR0FBS2xELEVBQ1YwQyxLQUFLUyxHQUFLakQsRUFDVndDLEtBQUtVLEdBQUssRUFDVlYsS0FBS1csR0FBSyxFQUNWWCxLQUFLL0IsT0FBeUIsSUFBaEJmLEtBQUtnQyxTQUFpQixFQUNwQ2MsS0FBS1ksU0FBMkIsSUFBaEIxRCxLQUFLZ0MsU0FBa0IsSUFDdkNjLEtBQUthLE1BQVEsRyxVQWJqQixPLEVBQUEsRyxFQUFBLGdDQWdCSWIsS0FBS1UsSUFBTVYsS0FBS1EsR0FBS1IsS0FBSzFDLEdBQUswQyxLQUFLYSxNQUNwQ2IsS0FBS1csSUFBTVgsS0FBS1MsR0FBS1QsS0FBS3hDLEdBQUt3QyxLQUFLYSxNQUNwQ2IsS0FBSzFDLEdBQUswQyxLQUFLVSxHQUNmVixLQUFLeEMsR0FBS3dDLEtBQUtXLEtBbkJuQiw2QkFzQklYLEtBQUtJLElBQUlVLE9BQ1RkLEtBQUtJLElBQUlXLFlBQ1RmLEtBQUtJLElBQUlZLElBQUloQixLQUFLMUMsRUFBRzBDLEtBQUt4QyxFQUFHd0MsS0FBSy9CLE9BQVEsRUFBYSxFQUFWZixLQUFLOEIsSUFBUSxHQUMxRGdCLEtBQUtJLElBQUlhLFVBQVlqQixLQUFLTSxNQUMxQk4sS0FBS0ksSUFBSWMsT0FDVGxCLEtBQUtJLElBQUllLGUsMkJBM0JiLE1DUEEsV0FFSXpCLE9BQU9DLGlCQUFpQixRQUFRLFdBQzVCeUIsSUFDQUMsT0FHSjNCLE9BQU80QixTQUFXLFdBQ2RyQixFQUFPM0IsTUFBUW9CLE9BQU82QixXQUN0QnRCLEVBQU8xQixPQUFTbUIsT0FBTzhCLFlBQ3ZCQyxFQUFZLEdBQ1pMLEtBR0osSUFBTU0sRUFBa0J4QixTQUFTeUIsY0FBYyxVQUMzQ0MsRUFBZUYsRUFBZ0JyQixXQUFXLE1BQzFDSixFQUFTQyxTQUFTQyxjQUFjLFdBQ2hDQyxFQUFNSCxFQUFPSSxXQUFXLE1BRXhCd0IsRUFBUyxFQUFHSixFQUFZLEdBRTVCLFNBQVNMLEtBR0wsV0FDSSxJQUFNVSxFQUF3QnBDLE9BQU9vQyx1QkFDakNwQyxPQUFPcUMsMEJBQ1ByQyxPQUFPc0MsNkJBQ1B0QyxPQUFPdUMsd0JBQ1h2QyxPQUFPb0Msc0JBQXdCQSxFQUxuQyxHQVFBLElBQU1JLEVBQVF4QyxPQUFPNkIsV0FDZlksRUFBU3pDLE9BQU84QixZQUV0QkUsRUFBZ0JwRCxNQUFRNEQsRUFDeEJSLEVBQWdCbkQsT0FBUzRELEVBRXpCUCxFQUFhUSxVQUFVLHlCQUEwQkYsRUFBUSxFQUFHQyxFQUFTLEdBQ3JFLElBQU1FLEVBQVVULEVBQWFVLGFBQWEsRUFBRyxFQUFHSixFQUFPQyxHQUFRSSxLQUUvRHRDLEVBQU8zQixNQUFRNEQsRUFDZmpDLEVBQU8xQixPQUFTNEQsRUFHaEIsSUFEQSxJQUNTN0UsRUFBSSxFQUFHQSxFQUFJNEUsRUFBTzVFLEdBQUtKLEtBQUtzRixNQUFNTixFQUQ5QixLQUVULElBQUssSUFBSTFFLEVBQUksRUFBR0EsRUFBSTJFLEVBQVEzRSxHQUFLTixLQUFLc0YsTUFBTU4sRUFGbkMsS0FHREcsRUFBMkIsR0FBakIvRSxFQUFJRSxFQUFJMEUsR0FBYyxHQUgvQixLQUlEVCxFQUFVZ0IsS0FBSyxJQUFJMUMsRUFBU3pDLEVBQUdFLElBSTNDcUUsRUFBU0osRUFBVWpDLE9BR3ZCLFNBQVM2QixJQUNMakIsRUFBSXNDLFVBQVUsRUFBRyxFQUFHekMsRUFBTzNCLE1BQU8yQixFQUFPMUIsUUFDekMsSUFBSyxJQUFJOUQsRUFBSSxFQUFHQSxFQUFJb0gsRUFBUXBILElBQUssQ0FDN0IsSUFBSThCLEVBQUlrRixFQUFVaEgsR0FDbEI4QixFQUFFb0csU0FDRnBHLEVBQUVxRyxPQUVOZCxzQkFBc0JULElBOUQ5QiIsImZpbGUiOiJidW5kbGUuanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gMCk7XG4iLCJleHBvcnQgY2xhc3MgVXRpbHMge1xyXG4gICAgc3RhdGljIG5vcm0odmFsdWUsIG1pbiwgbWF4KSB7XHJcbiAgICAgICAgcmV0dXJuICh2YWx1ZSAtIG1pbikgLyAobWF4IC0gbWluKTtcclxuICAgIH1cclxuICAgIHN0YXRpYyBsZXJwKG5vcm0sIG1pbiwgbWF4KSB7XHJcbiAgICAgICAgcmV0dXJuIChtYXggLSBtaW4pICogbm9ybSArIG1pbjtcclxuICAgIH1cclxuICAgIHN0YXRpYyBtYXAodmFsdWUsIHNvdXJjZU1pbiwgc291cmNlTWF4LCBkZXN0TWluLCBkZXN0TWF4KSB7XHJcbiAgICAgICAgcmV0dXJuIFV0aWxzLmxlcnAoVXRpbHMubm9ybSh2YWx1ZSwgc291cmNlTWluLCBzb3VyY2VNYXgpLCBkZXN0TWluLCBkZXN0TWF4KTtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgY2xhbXAodmFsdWUsIG1pbiwgbWF4KSB7XHJcbiAgICAgICAgcmV0dXJuIE1hdGgubWluKE1hdGgubWF4KHZhbHVlLCBNYXRoLm1pbihtaW4sIG1heCkpLCBNYXRoLm1heChtaW4sIG1heCkpO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBkaXN0YW5jZShwMCwgcDEpIHtcclxuICAgICAgICB2YXIgZHggPSBwMS54IC0gcDAueCxcclxuICAgICAgICAgICAgZHkgPSBwMS55IC0gcDAueTtcclxuICAgICAgICByZXR1cm4gTWF0aC5zcXJ0KGR4ICogZHggKyBkeSAqIGR5KTtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgZGlzdGFuY2VYWSh4MCwgeTAsIHgxLCB5MSkge1xyXG4gICAgICAgIHZhciBkeCA9IHgxIC0geDAsXHJcbiAgICAgICAgICAgIGR5ID0geTEgLSB5MDtcclxuICAgICAgICByZXR1cm4gTWF0aC5zcXJ0KGR4ICogZHggKyBkeSAqIGR5KTtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgY2lyY2xlQ29sbGlzaW9uKGMwLCBjMSkge1xyXG4gICAgICAgIHJldHVybiBVdGlscy5kaXN0YW5jZShjMCwgYzEpIDw9IGMwLnJhZGl1cyArIGMxLnJhZGl1cztcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgY2lyY2xlUG9pbnRDb2xsaXNpb24oeCwgeSwgY2lyY2xlKSB7XHJcbiAgICAgICAgcmV0dXJuIFV0aWxzLmRpc3RhbmNlWFkoeCwgeSwgY2lyY2xlLngsIGNpcmNsZS55KSA8IGNpcmNsZS5yYWRpdXM7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIHBvaW50SW5SZWN0KHgsIHksIHJlY3QpIHtcclxuICAgICAgICByZXR1cm4gVXRpbHMuaW5SYW5nZSh4LCByZWN0LngsIHJlY3QueCArIHJlY3Qud2lkdGgpICYmXHJcbiAgICAgICAgICAgIFV0aWxzLmluUmFuZ2UoeSwgcmVjdC55LCByZWN0LnkgKyByZWN0LmhlaWdodCk7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIGluUmFuZ2UodmFsdWUsIG1pbiwgbWF4KSB7XHJcbiAgICAgICAgcmV0dXJuIHZhbHVlID49IE1hdGgubWluKG1pbiwgbWF4KSAmJiB2YWx1ZSA8PSBNYXRoLm1heChtaW4sIG1heCk7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIHJhbmdlSW50ZXJzZWN0KG1pbjAsIG1heDAsIG1pbjEsIG1heDEpIHtcclxuICAgICAgICByZXR1cm4gTWF0aC5tYXgobWluMCwgbWF4MCkgPj0gTWF0aC5taW4obWluMSwgbWF4MSkgJiZcclxuICAgICAgICAgICAgTWF0aC5taW4obWluMCwgbWF4MCkgPD0gTWF0aC5tYXgobWluMSwgbWF4MSk7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIHJlY3RJbnRlcnNlY3QocjAsIHIxKSB7XHJcbiAgICAgICAgcmV0dXJuIFV0aWxzLnJhbmdlSW50ZXJzZWN0KHIwLngsIHIwLnggKyByMC53aWR0aCwgcjEueCwgcjEueCArIHIxLndpZHRoKSAmJlxyXG4gICAgICAgICAgICBVdGlscy5yYW5nZUludGVyc2VjdChyMC55LCByMC55ICsgcjAuaGVpZ2h0LCByMS55LCByMS55ICsgcjEuaGVpZ2h0KTtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgZGVncmVlc1RvUmFkcyhkZWdyZWVzKSB7XHJcbiAgICAgICAgcmV0dXJuIGRlZ3JlZXMgLyAxODAgKiBNYXRoLlBJO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyByYWRzVG9EZWdyZWVzKHJhZGlhbnMpIHtcclxuICAgICAgICByZXR1cm4gcmFkaWFucyAqIDE4MCAvIE1hdGguUEk7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIHJhbmRvbVJhbmdlKG1pbiwgbWF4KSB7XHJcbiAgICAgICAgcmV0dXJuIG1pbiArIE1hdGgucmFuZG9tKCkgKiAobWF4IC0gbWluKTtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgcmFuZG9tSW50KG1pbiwgbWF4KSB7XHJcbiAgICAgICAgcmV0dXJuIE1hdGguZmxvb3IobWluICsgTWF0aC5yYW5kb20oKSAqIChtYXggLSBtaW4gKyAxKSk7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIHJhbmRvbURpc3QobWluLCBtYXgsIGl0ZXJhdGlvbnMpIHtcclxuICAgICAgICB2YXIgdG90YWwgPSAwO1xyXG5cclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGl0ZXJhdGlvbnM7IGkgKz0gMSkge1xyXG4gICAgICAgICAgICB0b3RhbCArPSBVdGlscy5yYW5kb21SYW5nZShtaW4sIG1heCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0b3RhbCAvIGl0ZXJhdGlvbnM7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIHJhbmRvbUNvbG9yKGNvbG9ycykge1xyXG4gICAgICAgIHJldHVybiBjb2xvcnNbTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogY29sb3JzLmxlbmd0aCldXHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBVdGlscyB9IGZyb20gJy4vdXRpbCc7XHJcblxyXG5jb25zdCBtb3VzZSA9IHt9O1xyXG5jb25zdCBjb2xvcnMgPSBbJyM2NDVmNWEnXTtcclxuXHJcbndpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICBtb3VzZS54ID0gZXZlbnQuY2xpZW50WDtcclxuICBtb3VzZS55ID0gZXZlbnQuY2xpZW50WTtcclxufSlcclxuXHJcbmV4cG9ydCBjbGFzcyBQYXJ0aWNsZSB7XHJcbiAgY29uc3RydWN0b3IoeCwgeSkge1xyXG4gICAgdGhpcy5jYW52YXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjY2FudmFzJyk7XHJcbiAgICB0aGlzLmN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KFwiMmRcIik7XHJcbiAgICB0aGlzLmNvbG9yID0gVXRpbHMucmFuZG9tQ29sb3IoY29sb3JzKTtcclxuICAgIHRoaXMueCA9IE1hdGgucmFuZG9tKCkgKiB0aGlzLmNhbnZhcy53aWR0aDtcclxuICAgIHRoaXMueSA9IE1hdGgucmFuZG9tKCkgKiB0aGlzLmNhbnZhcy5oZWlnaHQ7XHJcbiAgICB0aGlzLngyID0geDtcclxuICAgIHRoaXMueTIgPSB5O1xyXG4gICAgdGhpcy52eCA9IDA7XHJcbiAgICB0aGlzLnZ5ID0gMDtcclxuICAgIHRoaXMucmFkaXVzID0gTWF0aC5yYW5kb20oKSAqIDIuNSArIDE7XHJcbiAgICB0aGlzLmZyaWN0aW9uID0gTWF0aC5yYW5kb20oKSAqIDAuMDUgKyAwLjk0O1xyXG4gICAgdGhpcy5zcGVlZCA9IDIwO1xyXG4gIH1cclxuICB1cGRhdGUoKSB7XHJcbiAgICB0aGlzLnZ4ID0gKHRoaXMueDIgLSB0aGlzLngpIC8gdGhpcy5zcGVlZDtcclxuICAgIHRoaXMudnkgPSAodGhpcy55MiAtIHRoaXMueSkgLyB0aGlzLnNwZWVkO1xyXG4gICAgdGhpcy54ICs9IHRoaXMudng7XHJcbiAgICB0aGlzLnkgKz0gdGhpcy52eTtcclxuICB9XHJcbiAgZHJhdygpIHtcclxuICAgIHRoaXMuY3R4LnNhdmUoKTtcclxuICAgIHRoaXMuY3R4LmJlZ2luUGF0aCgpO1xyXG4gICAgdGhpcy5jdHguYXJjKHRoaXMueCwgdGhpcy55LCB0aGlzLnJhZGl1cywgMCwgTWF0aC5QSSAqIDIsIGZhbHNlKTtcclxuICAgIHRoaXMuY3R4LmZpbGxTdHlsZSA9IHRoaXMuY29sb3I7XHJcbiAgICB0aGlzLmN0eC5maWxsKClcclxuICAgIHRoaXMuY3R4LnJlc3RvcmUoKTtcclxuICB9XHJcbn0iLCJpbXBvcnQgeyBQYXJ0aWNsZSB9IGZyb20gJy4vcGFydGljbGUnO1xyXG5pbXBvcnQgeyBVdGlscyB9IGZyb20gJy4vdXRpbCc7XHJcblxyXG4oKCkgPT4ge1xyXG5cclxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdsb2FkJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGluaXQoKTtcclxuICAgICAgICByZW5kZXIoKTtcclxuICAgIH0pXHJcblxyXG4gICAgd2luZG93Lm9ucmVzaXplID0gKCkgPT4ge1xyXG4gICAgICAgIGNhbnZhcy53aWR0aCA9IHdpbmRvdy5pbm5lcldpZHRoO1xyXG4gICAgICAgIGNhbnZhcy5oZWlnaHQgPSB3aW5kb3cuaW5uZXJIZWlnaHQ7XHJcbiAgICAgICAgcGFydGljbGVzID0gW107XHJcbiAgICAgICAgaW5pdCgpO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IG9mZnNjcmVlbmNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpLFxyXG4gICAgICAgIG9mZnNjcmVlbmN0eCA9IG9mZnNjcmVlbmNhbnZhcy5nZXRDb250ZXh0KCcyZCcpLFxyXG4gICAgICAgIGNhbnZhcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNjYW52YXMnKSxcclxuICAgICAgICBjdHggPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcclxuXHJcbiAgICBsZXQgYW1vdW50ID0gMCwgcGFydGljbGVzID0gW107XHJcblxyXG4gICAgZnVuY3Rpb24gaW5pdCgpIHtcclxuXHJcbiAgICAgICAgLy8gUmVxdWVzdEFuaW1hdGlvbkZyYW1lXHJcbiAgICAgICAgKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgY29uc3QgcmVxdWVzdEFuaW1hdGlvbkZyYW1lID0gd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSB8fFxyXG4gICAgICAgICAgICAgICAgd2luZG93Lm1velJlcXVlc3RBbmltYXRpb25GcmFtZSB8fFxyXG4gICAgICAgICAgICAgICAgd2luZG93LndlYmtpdFJlcXVlc3RBbmltYXRpb25GcmFtZSB8fFxyXG4gICAgICAgICAgICAgICAgd2luZG93Lm1zUmVxdWVzdEFuaW1hdGlvbkZyYW1lO1xyXG4gICAgICAgICAgICB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lID0gcmVxdWVzdEFuaW1hdGlvbkZyYW1lO1xyXG4gICAgICAgIH0pKCk7XHJcblxyXG4gICAgICAgIGNvbnN0IFdJRFRIID0gd2luZG93LmlubmVyV2lkdGg7XHJcbiAgICAgICAgY29uc3QgSEVJR0hUID0gd2luZG93LmlubmVySGVpZ2h0O1xyXG5cclxuICAgICAgICBvZmZzY3JlZW5jYW52YXMud2lkdGggPSBXSURUSDtcclxuICAgICAgICBvZmZzY3JlZW5jYW52YXMuaGVpZ2h0ID0gSEVJR0hUO1xyXG5cclxuICAgICAgICBvZmZzY3JlZW5jdHguZHJhd0ltYWdlKCcuLi9kaXN0L2ltYWdlcy9pbWcucG5nJywgV0lEVEggLyAyLCBIRUlHSFQgLyAyKTtcclxuICAgICAgICBjb25zdCBpbWdEYXRhID0gb2Zmc2NyZWVuY3R4LmdldEltYWdlRGF0YSgwLCAwLCBXSURUSCwgSEVJR0hUKS5kYXRhO1xyXG5cclxuICAgICAgICBjYW52YXMud2lkdGggPSBXSURUSDtcclxuICAgICAgICBjYW52YXMuaGVpZ2h0ID0gSEVJR0hUO1xyXG5cclxuICAgICAgICBjb25zdCBza2lwID0gMTUwO1xyXG4gICAgICAgIGZvciAobGV0IHggPSAwOyB4IDwgV0lEVEg7IHggKz0gTWF0aC5yb3VuZChXSURUSCAvIHNraXApKSB7XHJcbiAgICAgICAgICAgIGZvciAobGV0IHkgPSAwOyB5IDwgSEVJR0hUOyB5ICs9IE1hdGgucm91bmQoV0lEVEggLyBza2lwKSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGltZ0RhdGFbKCh4ICsgeSAqIFdJRFRIKSAqIDQpICsgM10gPiBza2lwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcGFydGljbGVzLnB1c2gobmV3IFBhcnRpY2xlKHgsIHkpKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBhbW91bnQgPSBwYXJ0aWNsZXMubGVuZ3RoO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHJlbmRlcigpIHtcclxuICAgICAgICBjdHguY2xlYXJSZWN0KDAsIDAsIGNhbnZhcy53aWR0aCwgY2FudmFzLmhlaWdodCk7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhbW91bnQ7IGkrKykge1xyXG4gICAgICAgICAgICBsZXQgcCA9IHBhcnRpY2xlc1tpXTtcclxuICAgICAgICAgICAgcC51cGRhdGUoKTtcclxuICAgICAgICAgICAgcC5kcmF3KCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZShyZW5kZXIpO1xyXG4gICAgfVxyXG59KSgpOyJdLCJzb3VyY2VSb290IjoiIn0=